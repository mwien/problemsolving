#include<iostream>

using namespace std;

long long nums[4];
long long mod = 1000000007;

int main()
{
    int n;
    cin >> n;
    for(int i = 0; i < n; ++i) {
	int a;
	cin >> a;
	nums[a]++;
    }
    long long res = 1;
    res = res * nums[1] % mod;
    res = res * nums[3] % mod;
    long long fac = 1;
    for(int i = 0; i < nums[2]; ++i) {
	fac = fac * 2 % mod;
    }
    fac = (fac - 1 + mod) % mod;
    res = res * fac % mod;
    cout << res << endl;
}
