import java.io.BufferedReader;
import java.io.InputStreamReader;
import java.io.IOException;

public class StackUp {

    public static void shuffle(int[] deck, int[] shuffle) {
	int[] tmp = new int[52];
	for(int i = 0; i < 52; i++) {
	    tmp[i] = deck[shuffles[i]];
	}
	for(int i = 0; i < 52; i++) {
	    deck[i] = tmp[i];
	}
    }

    public static void main(String[] args) throws IOException {

	BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
	int T = Integer.parseInt(br.readLine());
	br.readLine();

	String[] vals = {"2", "3", "4", "5", "6", "7", "8", "9", "10", "Jack", "Queen", "King", "Ace"};
	String[] suits = {"Clubs", "Diamonds", "Hearts", "Spades"};
	
	for(int t = 0; t < T; t++) {
	    if(t > 0) System.out.println();
	    int n = Integer.parseInt(br.readLine());
	    int[][] shuffles = new int[n][52];
	    for(int i = 0; i < n; i++) {
		String[] in = br.readLine().split(" ");
		for(int j = 0; j < 52; j++) {
		    shuffles[i][j] = Integer.parseInt(in[j])-1;
		}
	    }
	    String input;
	    int[] deck = new int[52];
	    for(int i = 0; i < n; i++) {
		deck[i] = i;
	    }
	    while((input = br.readLine()).length > 0) {
		int N = Integer.parseInt(input)-1;
		shuffle(deck, shuffles[N]);
	    }
	    for(int i = 0; i < 52; i++) {
		System.out.println(suits[deck[i]/13] + " of " + vals[deck[i]%13]);
	    }
	}

    }

}
