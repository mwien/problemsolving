import java.util.Scanner;

public class Tele {

    public static int[][] mult(int[][] a, int[][] b) {

    }

    public static void main(String[] args) throws IOException {
	Scanner s = new Scanner(System.in);
	while(s.hasNext()) {
	    int N = s.nextInt();
	    int L = s.nextInt();
	    int S = s.nextInt();
	    int T = s.nextInt();
	    int[][] g = new int[N][N];
	    int[][] s = new int[N][N];
	    s[S-1][S-1] = 1;
	    for(int i = 0; i < N; i++) {
		for(int j = 0; j < 4; j++) {
		    int b = s.nextInt();
		    g[i][b-1]++;
		}
	    }
	    //calc g^L
	    int[][] res = new int[N][N];
	    //start with I
	    for(int i = 0; i < N; i++) {
		for(int j = 0; j < N; j++) {
		    res[i][j] = 1;
		}
	    }
	    for(int i = 0; (1 << i) <= L; i++) {
		if((1 << i) & L == (1 << i)) {
		    res = mult(res, g);
		}
	    }
	}
    }

}
